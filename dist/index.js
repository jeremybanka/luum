(()=>{var je={none:[],polar:[180],split:[150,210],trine:[120,240],square:[90,180,270]},x={R:.3,G:.5,B:.2};var S=[{sat:255,hue:0},{sat:255,hue:360}],Re=[{sat:255,hue:55},{sat:127,hue:120},{sat:255,hue:200},{sat:255,hue:205},{sat:170,hue:240},{sat:230,hue:270},{sat:210,hue:300},{sat:255,hue:320}];var De={state:{hover:{},active:{},disabled:{}},bg:{shade:24,state:{base:{},hover:{shade:18},active:{shade:32},disabled:{shade:32}}},mg:{shade:48},fg:{contrast:"soft",state:{hover:{contrast:"harden"},active:{contrast:"harden"},disabled:{shade:20}}}},ke={PaletteModule:{contextColor:[{resetColor:"#fee"},{shade:20}],variables:{bg:[],mg:[{resetColor:1},{shade:10}],fg:[{contrast:"soft"}]},children:{Control:{states:{base:{},hover:[{tint:12}],active:[{shade:18}]},variables:{bg:[{shade:24}],mg:[{shade:48}],fg:{states:{base:[{shade:24},{contrast:"soft"}],hover:[{shade:24},{contrast:"soft"}],active:[{shade:24},{contrast:"hard"}]}}}}}}},Ee=[{id:"PaletteName",hex:"#f00",states:[{id:"base",hex:"#f00",elements:[{id:"bg",hex:"#f00"},{id:"mg",hex:"#f00"},{id:"fg",hex:"#f00"}]},{id:"hover",hex:"#f00",elements:[{id:"bg",hex:"#f00"},{id:"mg",hex:"#f00"},{id:"fg",hex:"#f00"}]}]}];var re=e=>`#${Object.values(e).map(t=>{let r=t.toString(16);return r.length===1&&(r=0+r),r}).join("")}`,U=re;var ne=(e,[t,r])=>e>r?r:e<t?t:e,h=ne;var oe=({completionRatio:e=.5,range:[t,r]})=>r+e*(t-r),ae=oe;var ie=(e,[t,r])=>{let n=r-t;for(;e>=r;)e-=n;for(;e<t;)e+=n;return e},p=ie;var y=e=>{e=p(e,[0,360]);let t=e/60,r=Math.floor(t),n=t-r,o=n,a=1-n;switch(r){case 0:return[1,o,0];case 1:return[a,1,0];case 2:return[0,1,o];case 3:return[0,a,1];case 4:return[o,0,1];case 5:return[1,0,a];default:throw new Error(`invalid hue served: ${e}`)}};var se=({R:e,G:t,B:r})=>{let n=0;return e>t&&t>=r&&(n=60*(0+(t-r)/(e-r))),t>=e&&e>r&&(n=60*(2-(e-r)/(t-r))),t>r&&r>=e&&(n=60*(2+(r-e)/(t-e))),r>=t&&t>e&&(n=60*(4-(t-e)/(r-e))),r>e&&e>=t&&(n=60*(4+(e-t)/(r-t))),e>=r&&r>t&&(n=60*(6-(r-t)/(e-t))),n},O=se;var ce=({R:e,G:t,B:r})=>x.R*e/255+x.G*t/255+x.B*r/255,f=ce;var P=(e,t)=>{let r=255,n=p(e,[0,360]);for(let o=-1,a=0;a<t.length;o++,a++){o=p(o,[0,t.length]);let i=o>a?p(n,[-180,180]):void 0,s=t[o],c=t[a],m=o>a?p(s.hue,[-180,180]):s.hue,u=c.hue;if((i||n)>=m&&(i||n)<u){let l=i||n;l-=m,l/=u-m,l*=c.sat-s.sat,l+=s.sat,Math.round(l),r=l}}return r};var me=({R:e,G:t,B:r})=>Math.max(e,t,r)-Math.min(e,t,r),j=me;var N=e=>{let[t,r,n]=y(e),o=x.R*t,a=x.G*r,i=x.B*n;return o+a+i};var ue=e=>{let t=y(e);return n=>{let o=a=>Math.round(t[a]*n);return{R:o(0),G:o(1),B:o(2)}}},le=({minChannels:e,trueLuminosity:t,minLum:r})=>{let{max:n,round:o}=Math,a=255-n(...Object.values(e)),i=h(o((t-r)*255),[0,a]);return{R:e.R+i,G:e.G+i,B:e.B+i}},pe=({hue:e,sat:t,lum:r,prefer:n="lum"},o=S)=>{let a=ue(e),i,s,c,m,u,l=0,T=1,d=P(e,o);switch(n){case"sat":i=h(Math.min(t,d),[0,255]),c=a(i),m={R:c.R+255-i,G:c.G+255-i,B:c.B+255-i},l=f(c),T=f(m),s=h(r,[l,T]);break;case"lum":s=h(r,[0,1]),u=N(e),d=Math.min(d,Math.round(s<=u?255*(s/u):255*(1-s)/(1-u))),i=Math.min(t,d),c=a(i),l=f(c);break}return{channels:le({minChannels:c,trueLuminosity:s,minLum:l}),fix:{sat:i,lum:s},limit:{sat:[0,d],lum:[n==="lum"?0:l,T]}}},z=pe;var he=({hue:e,sat:t,lum:r,prefer:n},o)=>{let{channels:a,fix:i,limit:s}=z({hue:e,sat:t,lum:r,prefer:n},o),{R:c,G:m,B:u}=a;return{hex:U({R:c,G:m,B:u}),fix:i,limit:s}},C=he;var xe=({hue:e,sat:t,lum:r,prefer:n},o)=>{let{hex:a}=C({hue:e,sat:t,lum:r,prefer:n},o);return a},R=xe;var B=[{hue:20,name:"red"},{hue:45,name:"orange"},{hue:61,name:"yellow"},{hue:80,name:"citron"},{hue:100,name:"lime"},{hue:150,name:"green"},{hue:180,name:"teal"},{hue:200,name:"cyan"},{hue:240,name:"blue"},{hue:270,name:"indigo"},{hue:300,name:"violet"},{hue:330,name:"magenta"},{hue:350,name:"pink"}],Lt=e=>{let t=p(e,[0,360]),{name:r}=B.find(({hue:n})=>t>=n)||B[0];return r};var fe=({R:e,G:t,B:r})=>{let n=O({R:e,G:t,B:r}),o=j({R:e,G:t,B:r}),a=f({R:e,G:t,B:r});return{hue:n,sat:o,lum:a}},A=fe;var be="[a-fA-F0-9]+",de=e=>{let t=e.split("");return[0,0,1,1,2,2].map(n=>t[n]).join("")},Se=e=>{let t=e.replace(/^#/,""),r=t.length===6||t.length===3,n=t.match(new RegExp(`^${be}$`))!==null;if(!(r&&n))throw new Error(`${e} is not a valid hex code`);return t.length===3?de(t):t},D=Se;var k=e=>{let t=D(e),r=i=>{switch(i){case"r":return t.slice(0,2);case"g":return t.slice(2,4);case"b":return t.slice(4,6);default:throw new Error("strange channel name")}},n=parseInt(r("r"),16),o=parseInt(r("g"),16),a=parseInt(r("b"),16);return{R:n,G:o,B:a}};var ye=e=>{let{R:t,G:r,B:n}=k(e),{hue:o,sat:a,lum:i}=A({R:t,G:r,B:n});return{hue:o,sat:a,lum:i}},E=ye;var Ce=(e,t)=>{let{lum:r}=e;switch(t){case 0:return{...e,lum:r>.666?0:1};case 1:return{...e,lum:r>.666?.05:.95};case 2:return r>.75?{...e,lum:r/2}:r<.25?{...e,lum:r+(1-r)/2}:{...e,lum:r>.666?1:0}}},V=Ce;var g=(e,t)=>{let r=t instanceof Function?t(e.hue):t;return{...e,hue:p(r,[0,360])}},W=(e,t)=>g(e,r=>r+t*120),q=(e,t)=>g(e,r=>r+t*90),Y=(e,t)=>g(e,r=>r+t*150);var v=(e,t)=>{let r=t instanceof Function?t(e.lum):t;return{...e,lum:h(r,[0,1])}},J=(e,t)=>v(e,r=>(r*100+t)/100),Q=(e,t)=>v(e,r=>(r*100-t)/100);var I=(e,t)=>{let r=t instanceof Function?t(e.sat):t;return{...e,sat:h(r,[0,255])}},X=(e,t)=>I(e,r=>r+t),Z=(e,t)=>I(e,r=>r-t);var ge={hex:(e,t)=>({...e,...E(t)}),spec:(e,t)=>({...t}),hue:g,sat:I,lum:v,fix:(e,t)=>({...e,prefer:t,...C({...e,prefer:t}).fix}),prefer:(e,t)=>({...e,prefer:t}),amp:X,contrast:V,mute:Z,tint:J,shade:Q,split:Y,tetra:q,trine:W},G=ge;var Fe=e=>!Object.values(e.attributes)[0].dry,L=(e=1,t)=>" ".repeat(e*2)+t,M=(e=0,...t)=>t.length>1?t.reduce((r,n,o)=>{let a=o===0?"":",";return`
`+L(e,n)+a+r},"")+` {
`:`${L(e,`${t[0]} {
`)}`,w=(e=0)=>`${L(e,`}
`)}`,F=(e,t,r=0)=>L(1+r,`${e}: ${t};
`),ve=(e,t)=>{let r="";for(let[n,{dry:o}]of Object.entries(e.attributes))r+=F(n,o,t);return r},Ie=(e,t)=>{let r="",n={hover:M(t+1,"&:hover","&:focus","&:focus-within"),active:M(t+1,"&:active","&.active"),disabled:M(t+1,"&:disabled","&.disabled")};for(let[o,{base:a,hover:i,active:s,disabled:c}]of Object.entries(e.attributes))r+=F(o,a.dry,t),n.hover+=F(o,i.dry,t+1),n.active+=F(o,s.dry,t+1),n.disabled+=F(o,c.dry,t+1);return n.hover+=w(t+1),n.active+=w(t+1),n.disabled+=w(t+1),r+=n.hover,r+=n.active,r+=n.disabled,r},Le=(e,t)=>Fe(e)?Ie(e,t):ve(e,t),Me=(e,t)=>{let r="";if(e.children)for(let n of Object.entries(e.children)){let[o,a]=n;r+=ee(o,a,t+1)}return r},ee=(e,t,r=0)=>{let n=M(r,e);return n+=Le(t,r),n+=Me(t,r),n+=w(r),n},rr=(e,t)=>{let r=H(t);return ee(e,r)};var _={hue:0,lum:0,sat:0,prefer:"lum"};var we=(e,t)=>{let r={};return Object.entries(e).forEach(([o,a])=>{r[o]=t(a,o)}),r},b=we;var te=e=>e===void 0?!1:Boolean(e.base),$=(e,t)=>t.reduce((r,[n,o])=>G[n](r,o),e),K=(e,t,r)=>{let n=$(e,t),o=R(n,r);return{wet:n,dry:o}},He=(e,t)=>{let r=e.filter||t?.filter||S,n=$(_,e.root||[]),o=b(e.attributes,(i,s)=>{let c=t?.attributes[s],m=te(c)?c.base.wet:c?.wet||n;return console.log(c),console.log(m),K(m,i,r)}),a={attributes:o};return e.children&&(a.children=b(e.children,i=>H(i,{filter:r,attributes:o}))),a},Te=(e,t)=>{let r=e.filter||t?.filter||S,n=$(_,e.root||[]),o=b(e.attributes,(s,c)=>{let m=t?.attributes[c],u=te(m)?m.base.wet:m?.wet||n;return K(u,s.base,r)}),a=b(e.attributes,(s,c)=>b(s,(m,u)=>u==="base"?o[c]:K(o[c].wet,m,r))),i={attributes:a};return e.children&&(i.children=b(e.children,s=>H(s,{filter:r,attributes:a}))),i},Oe=e=>!Array.isArray(Object.values(e.attributes)[0]),H=(e,t)=>Oe(e)?Te(e,t):He(e,t);})();
//# sourceMappingURL=index.js.map
